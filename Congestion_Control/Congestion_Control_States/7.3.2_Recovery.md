---
title: "7.3.2. 恢复"
anchor: "7.3.2_Recovery"
weight: 7320
rank: "h3"
---

当检测到丢包或当由对端报告的`ECN-CE`计数增加时，使用NewReno的发送方就会进入恢复期。已经处于恢复期的发送方不会重新进入恢复期。

在进入恢复期时，发送方{{< req_level MUST >}}将慢启动阈值设置为检测到丢包时的拥塞窗口大小的一半。{{< req_level MUST >}}在退出恢复期前完成此减半操作。

QUIC实现{{< req_level MAY >}}在进入恢复期时立即缩小拥塞窗口，或使用其他机制，例如比例降速法（详见《[PRR](https://www.rfc-editor.org/info/rfc6937)》），来逐渐缩小拥塞窗口。如果选择立即缩小拥塞窗口，那么可以在缩小前先发送一个数据包。如《[RFC6675](https://www.rfc-editor.org/info/rfc6675)》的[第5章](https://www.rfc-editor.org/rfc/rfc6675.html#section-5)所述，如果遭遇丢包的数据包中的数据得到重传，那么这种做法能加速丢包恢复，并且与TCP中的行为一致。

恢复期的目的是将缩小拥塞窗口的频率控制在每一轮往返时间内不超过一次。因此，在恢复期中，拥塞窗口不会对新的丢包事件或ECN-CN计数的增加作出响应。

一旦在恢复期中发送的数据包得到确认，恢复期就会结束，发送方会进入拥塞回避状态。这与TCP中对恢复的定义稍微有点区别，在后者中，恢复期是在引发恢复的那个被丢失的数据段得到确认时结束的。
